// Execute this JavaScript code on Espruino
// to write '/img01.jpg' to flash.

var fname       = '/img01.jpg';
var fsize       = 5999;
var chunkIndex  = 0;
var chunkSize   = 128;

// helper function to convert a hex buffer to a string
var hex2str = function(hex) {
  var str = '';
  for (hex_index=0; hex_index<hex.length; hex_index += 2) {
    str += String.fromCharCode(parseInt(hex.substr(hex_index, 2), 16));
  }
  return str;
}

// Write the file to the flash

require('Storage').erase(fname);
require('Storage').write(fname, 0, 0, fsize);
require('Storage').write(fname, hex2str('ffd8ffe000104a46494600010100000100010000ffdb0084000a0708151515181514141819181918191a1a1a1a1a1a181c1c18181c19191a19181a1c212e251c1e2c1f191a2638262b2f313535351a243b403b343f2e343531010c0c0c100f101e12121a34212123313434313434343431343434343431343434343434343434'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('3434343434343434343434343434313434343434343434313131ffc000110800e600db03012200021101031101ffc4001c0000010501010100000000000000000000010002030405060708ffc4003a1000010302040307030302060301010000010002110321041231410551610622718191a1f013b1c10732d152e114426272'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('82f11592b2d223ffc40017010101010100000000000000000000000000010203ffc4001f1101010101010101000203000000000000000111022131124151033261ffda000c03010002110311003f00f194504516022924a2e1228228a48a08a2c245256305837d578631a5ce71b0454429920900c0d4edf2e990bd7784f65a8b'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('289a5501717819ccc77b28fdb6e8b8eed5f645f868a94c9a944d83a2ed3c9c39a24b2b9308c230823521208a481b0922928961a82292ac504924902491491490492409249140d452491091411452452451604229228b0805ea7d81e03f4e90acf1dfa824736b361e7afa2f3be0984fab88a54ffaded07c2466f695efdf4435a0'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('0e48542c68df54abe0db518ea6ff00d8f00781996b87506135c214d87a93653f45e5e13da2e14ec3577d370801c72ffb76f68596bd3ff56786cb69625ade6c791cff00ca4fa81e4bcc6156b9f80504fa9a9f1298814209c814435284405e8bd8cec3e768ad8a61ca402ca7a13addfc8696d519ae2307c1ebd530ca6e3d62d1ac'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('aaf8cc31a6e2c77ee6d9d1b1e4be81706d161cac68634171000166893ec17cfb8bab9def7ff539cebffa893f944408a092048225044a48a08a282492281228221024528451a209248a34e8bb034c3b1d441ff59f30c710bdbb18fef7905e45fa67879c4b9f3fb18469bbb79db4f75e978fc45da66363f70a6a66d48f726d3719'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('b2635e0c49d7757aa31ad6c449d88bcfa299ad5b81c43878c561eae1dd62f638349d9e04b5de47eebc1315817d2a858f690e6ba0ff00c5d97f057bfe1aafed70e5f6fed1ecb3bb45d98a58978c44778b407f5cb22475b8f45631b95e08f173e25085e8389fd3eacea9dc8c85f7260770975fc600ff00d9418cfd3ac537343438'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('5a3291b9bc0de003ea15cabfae5c2241b2ba06f656bc09690ecc4652234f85761d8cec2cbbea571201fda47ee102c7a4923c90d8add81ec6e68c4e259ddd69b1c3f77fa9c3fa7a1d7efe9ec6299d4f61f0724f75801cd19d731db6c47d2c1d774c4d32c1e350860ffea7c9782b8f25ec3fab9892dc3b180901ef131b868260fa'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('fb2f1c442492490228245044a294a092021149145841141146a0a4904514910922d08d63bcec1372b1cfdcbc08802c23ce2e5759c72a0686def6b75ffa2b13b17842da4c2f69125cebc5c696be8a5ed2139f34f88ebcfdbecb37c4e6ed6ce1dd2c07a2b7f588635e0e9adb6f9eab33044960037035fcabb847b9a32b85c5bc41'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('98b739ff00e958bd56a7d6004b7437f03bc7bfa2b54f11023d3edf7fbac8a2f0044686de1a47b7ba9dafd46d041e778b8f407c654b5cdaccaa2dcd5e996fd973f8bccc2d70fda47e5a49f6f75bd87bb5a41b1b8e835fe525a96401876be33b4123747e8e4d34403c870f9b05732c824ad27c542a16be493361d214f59963cb9a'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('a359c6cd6e9ee5255935e63fac38f9a94a888b34bcf3ef1cadf2ee95e68bbdfd5014ff00c6492e2723458886e59b5c755c4b9ac3a123fdc2deadfe15a9fc2ba4a57d2235d398208f50a251490450559a492492072720110a370914924685249145256b87d1cf518de6e68f75542bbc31e1b518e20901c0900806250bf1ec0c86'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('9601a35b1b7e2de8b338be0df57f6c79f2f92ae31c0c11a40d75569ab3d7b5cf9bf953c05134d8d613240d7aeffc2b6c693d76eb098fd75b295989cb602565add12c33046be5f0abec7d3a6d9aa6e74b807ef7438739af7439d1f39ae6fb7bc26bb03db44901ddfd4896319258d3e209cbb97755be79d63aeb1d651c761b10df'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('a4d7c3b400ee60e8662626d33d16bbc8a61ac1b5bc978b615b56950a355ef05cf790d6c9ced63481ff00f4045afde6eba2f4dc0f11156807b8f7c403ce7695aea6549766c748c12e07c7de15c7b0e530370b2f85d5980794ff002876ab8e7f85a41f3121c4ba2486b22606e4923dd4e79d3aeb176b336858b8c796bacd9d24e8'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('0749dcaafd93ed43718d25af260c10e01ae07a81fdd6de370b9a0f233e69658bcf51e41faaf8369c431c2c4d317d41249d7c86a24f31175e6ef61060aeff00f56f199f12c602229b00eb98924fe1706ea85c20dcec77f03cd5a4f8635c469f3c53494610514d4939044c049149039140228dc149208a3441148248105630a61c'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('34f3d1574fa4e20822c8af57e12f9a6c248361a411ecb473d973bd9ac539ec876da1889f65bf1c966b949e9afa9b6e55bc3d2868dd55a74db336573fc535a1656a7a4c8320f92d86d563d81954070e4798dc6e1738dc5876de8a563dce2241f2907d7fed5970b3cf4b8970ac389fa74b33f6398ba3ade551c035cc74be4c993d'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('0f86eb773bf2c361a4f3d7adb9a4fc20a8dcae7804880eb83d0dc4668bfe16befa927f09787635a5c003241bf9f257bb41c3062a9861b8873634b3a27c0d82e6b87606b61aa90f0d7b0830f139a41100b74d0eababe18f797dc433299eb6b11c939eaeb7fe4ff0cfceef8e5f827017619f4e9d3a443ec1ef0c2d0e6b5ce707bd'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('c7ba5d0ecb6e9b2efea34031364ccd23bae30a36fe574bd6d709cfe63c87f55b82438d66b77b9fec35f1b2f317b72eba9f60bd93f54717dd2064f3790e11b86006578c38dd66b7cfc02822828a0924920492492029c1353da8b0611012724d2b2d942595152b6211a479505758d1a281ed01c83a2ecd625cd8bc09f5f7f785df'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('d2398725c2f679cc7402d21dcc6516f35dce1db100721d55ae3d7d4bf44c58a1f43756e9b65134792c62caa9862e9b88f05780e64a4c6c6ca47b242bca74970ce260691d2e7aabae3905c9f6e7c966b1ce668ef910afd2a59e0bdf98cdb90f05a948662f15dc04b4b8020976c073e6b4f055839bdd220e9054d4f04349b468aa'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('6170791ee68072cc8e50556faea5e71a748f74c94ca9880184f20797e539c572fdabc686b3235d04c9917b8d26fddf1d1571797f6f38997552d163376b983da4106eb90ff10776b0ff00c1a3ec02dde2f8caa1ce05c5c01ef32a0ce20980e69749c84dac6c7c42ca2da7501ca323f58925877304dd87c64750a56e7c570f61d5'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('b1fed27ece99f64c2c1b19e9a1f4fe12a948b4c3841f971cc28d002124e253502411410391099288284a79481425208de9c9c1c9a1246b530ac558c3522e702e6bb29313123dec54185682e00fceabd0fb35c24c82d0d20d890ffb82d93e1236524d67aeb16b80709a719ad02f11307a19907a15a59fbd6d16ad7a4d60c8c02c'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('2f03559a30af94ae73df5768549b2b6d55b0d48e845d5f6522b2d01a63c121495d661d5ba3825646759070f2ade030c415acdc1f452330f0ac8968b0a4e7809655c9f6abb42ea2c70683980d22e7d42d261fda9ed4b30cc22649d0c481e313f65e43da3e2d52a4383c963c1de45e6246874737a9613bacfe33c75f8827381a98'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('22458f31247a2a949f9a8bd87fca43dbd24b5aefbb7df9a6b5989f098c2e018fbc7eddcded944ef1683a8ee9ff00296d2c43323fba6dab4f455a55e2ecedeb0e3ff20248f3127c4a8a829d5b657091b7369e63f2375139b07e7aa623281208a080a08a0802704d09caa41442684946a53d24d567058673dc0344a2eb5fb35473'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('3ff6c8eb313e42deabd6b86d263192d10622da795cac2ecc702731b2f645bcfdc7da1745540d397557e39f5769d459989b7989b7885a1430bb384f23ff004a861a5a4182b730d583841f759fabf0da5816f323e734ab646752acba9b85e647d92631a4ddaa29984617192216a3190a3a502ea706d2ac66a56951bee88705155a'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('9096920968599c738652af4ce76b645e4c8f588956cbc9d14ac6482d3babcdf4ea3e76ed7f0e6d279cad790661d94b5be1de92ef285cd507407722d23d63f85eabfa8bc1ea325e208320eaddedae61f69e8bc95ee3f39ab565f0c533acc1d5c7d800a14f71263a081e1afe540c49249149249240904524420880a60027b1bd14'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('d6e71ff55a110d56c37a2969512e2034127a04d5fccfed160f04ea8e0d16f19ffaf585e99d93ecc3a98ef86b81be6807d6083ebee8764bb38c86b9fe3044411bcf35d7e26b0a6dcad0005b9326d72eaedc8151ed60865946c87dceab32a549267e7f281c41699cdfdd62f44e5b542991b2bd4d97d562e1b1e45fd883bf97e55f'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('6f141fe66dfa29e2e56e53a8408b1eaa52d116d164e1f16d3a13e055a656bd88843e2f924422faa6215318b074f041f8a6c5d0d59876e6ca66302ca18f1fb676523719e29e1eb50b80d1398f54456945b59594c57ed1603ea31c045c68743d17cfbc7b827d0a8e69205ff6de47b4479afa39efccd2276f05e39dbdc0bcb8ba48'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('8992eca1a3cc103d44f8addf627372bcf7e82028a0f71d9d3f3aa68aa61632ba5ea4fe127d2097d209a2a24d7a65596538530964093484e2f12a3584298e487d31c95dc356cb734c3c7236f3945aeff48553069d08bc008d86ba1e4ba3c155c33cc06659171689f9ba9315d96a2f134de596f1133bce9ea9b0728e713307c16a'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('f04a6e7b87745b5bc7e21581d933a1a801d9c2e0f8b7f83e8b5b85f0234af9e4fcd3926c67d75d87c4fd3a600b3b7f8153ad8a2ede561e37883db770b6c9f86e2ec24498f18d7f852f5ac7e6c69baa9d9441c1c6fb7a295d9624107c1368339a12a7a6d8dbe729565c65402d727e74f9fddd9ad037e5e6546a2d32b651f34f9f'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('6520c549d550a8ee5b7e3451d36b89515d3f0e7f32b5aa318e1700fdd73bc258734ba7e755d10a722c60ad4acd8ad88c1b5803c01f9951d2602acf117e5602e00899f02391d9418569226201db904a4f8b4c09cf624d4f2f1172ac4b558bc85c67ea070da959934f2c11792e07c0060365d2f12c5865c479e9d573588ed1b2a4'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('b36923cc788567521f9b7d79156e115da4834cebd147ff008badfd07d97a3e27092ed7ac06803c41164d6f09104b9f008b5b7fca9fa8bf9af3b1c2eb7f4fba78e135bfa47aaeb2bf0f7b5e5bf5983c5a6e35e7c92c3615a673e206b1dd1a72267ec9abf9c726384d5e43d53c708abd3d575f89e04f176620113a165e36b830b3'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('dfc3ea30f7ea58d81039d818fefee9a631bfc157cb97308e499ff8da9fd43dd7475386e683f58c1ff4c11f34559d862deee6798b6c9a2a61289ce1cc7b73074898f43048216dbf88358407cb763966248d343cb92e469d5c8f7348b5c1e6d3b39a79ad1c7d47bd97830264728d0f31ff007652fd2379bc4a89265d31b8b1e922'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('7657598d0f1220e9b907d755e7186c4163a47cfc2e9303c4dc46e0c5b2db6dc159eb9c6b9eb5abc646661c861c07eddfc971c71ee0482375d254c482331877482089e84e90b97e2105e4816e4af39fca75ae93837691ad195e488889bfb80ba8c3717a6ffdaf69f02bcde9e19ae12d06792846669eec8f92af8c63d759581bda'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('139af99f9aaf3ac1f68ea3203afcbd35f9c9747c1f8f36a59d6ebb7c8fc261ae8b3c2bd821245b94796bf74b0b856bdbb5d4b80664a90ed2f1e2614c6b5af5b0c58ccec9196e4731bfa053e031a1e3ae842b587a8d708d8dbc42c6e1d867b2b161161a1d8b49907f0aa6eb7f266043b4859ecae5ce86886857eb080ef0f6859f'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('8320e91afcfbab522f642b99ed071c6520e0e700475d3c792dbed07146e1e8979fdd1dd17d4d81302c3aaf02ed27147d5a84bad79b5e74bb8ef0986b671ddaa25e5c1d379de37b5fe5d53e0d88facf2e73a378133cfde0e9cd72a4cf3eab6b8038b5d9a4f48f5f352cc8d4bb5e8cca90d05a262274ded3e04a159e1cc240811c'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('c48245be745854b89398eee90438441d24da0273b18e731c34304c1076bdbc35f05ce7d74ac4c4e3cfd4049b4dc1bf9fd95bc335a1fdd804341041319ad208168b0f458d8ca2e273340dc0d751a6be20faecaf7066bbbd9ccfded077f45bebc9e33cfdf5b8ca84036cba4c697d0c78aa6ec702fcad36bc8e96562a532f6380d7'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('293ae9940378f25c953ac454b1dcdf9ecb326c5b72ba779ee800f4f4d909ea542d7771ce2e8b8bf23107f2b2ff00f283fa8a9356e2be2f0f98878ff946e7c3a84e34a59236f18f34c6e232bb29de3fb2bf9b2df63bff002adb5249f5cdd6066e23fb2d7e1788eee93f3d557c5e0dee3985fde3fb5d1c1e19c0f2f13b693a2ddb'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('2c6399674d07e34dc81e2207bf3f358b5c3b366b1e71b78f25b992facc6fe2b3f1f8568ef35da6dccf4859e6fad753c3f0750188f3f2567134806870b827efcf94aafc2da0f7a0f53131d56856a62ed999b8fec54bf567c73d8b8b429b0155cd337b7fdfe1398cccf8691bd88907c8ad8c3e09b96e208307a4f4e4b56e4c664d'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('adcecb76872b831eed5d624df516f52bb9e395d8ca5f533805ba8dc8b1b6fcd788d4cdf500658c883a5e75e8b6b058aa8f73beabdeeb477c9261a646f61245ba2bf2339b7c7abf05e2eca84169b6fd3e5bd1681e202a5577d336600c9d89b131cf92f20c17102c801ee126f7d80131d24abdc37b43570efccc7670e1243ae0db'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('5f54d3f35eb1c571c1944bdda0067c2163f04e39872d692f1e26c261a7f769a10bcd7b43daeaf88eefed68ff002b74b822fb9323d96261b14f832e2d06e761e296e1ccb7ebbfed67681aeae4ce6600032390e7239dfcf7db84e2b45af25f04389b01a7f655313c4730b7a1fc2ae31ee1bc9e7d39299d6eb5bcc98d06e11ac1fb'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('73388b4894d6bc8260447c00155e963e4f78235eb65120ebeb0a597f96a599b1363f192d001be807456f018b39608cd0d3b498077f05894a5ce927c7e6cb6b061acef8024098fea1bb4752adf26332db75ab85cae64409d6623f6c8133ad89f450f117963096ee41076ca27ffd0f454f0b8e607da48bdb5b1899f0b956ebd56b'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('d861b701c20ed331e17877aa9f3eaa99e28fc995ba9bceb68bf95bd951c2e15ce26da11e1deb2d3e1dc3730735e622c40b7881f7f3571d958c368d1a4ffedf92aeff00499fda3e28eee3cf333eb32b8e5d3bf1599a4787bdfd3759d538602490e0139b87537e19c529c39af1a1e778215ba3c4468e9bea47df4d426b1e1cd87d'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('c1d7a7555abe14d33332d3a1168f6f74996655b2cbb1af458e3de2647388b6d22539f6b3a20ef79fe14341f0cd4c44fc216562f1b7868b79ace7ab7ac8bf88c565b07020edf9f1544d07be7bc00f3f45132ae9112ad61aa1822351f6babf13eabe1f0cf6badafbf5cb3bad5635c601d858e927a81a1f1ea994aa45e018d491f3'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('e051bb88804d844c8d6d3a46fea9b6ae489706c6077edbff003b83b2bd49b98e524381f5117dbd67a2cac539ce8733c557c1e25cda998ee75b8f4e7ba996fa6c9e371f85630e603bc0ee3c6fd76559e3bcf13a8027c207a9fc23c51e5ec6653dedc748d47b2c7a78e7499f0492d3645ec588fdbb00df395050c4c5892227cca2'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('314d2249d2ea8e0db99deeb5279ea6fabefa9d35d5263f30eec4e908632cd816d67c2dfc2cd0e20c5e0292697ac31ed235d7e6ea5c3366568e46bda336feb3cd50a4cca4f25bdd8c7e72985994d8a75439ac957701a15034dd24df4b64f13b5d95be6ade0f1320b5d63b7cd956890421f44cc03a7353cabec5da7c3c971ca6fa'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('b4e971a81e1af872d168f0d644da4efc81f0e530a1e1ce2203a2f6079386827aa97138c6b1cee7cc45c5a09f42b36ef8d499eb569bb29cc35cbaf516bf2dbd42c5e38e701ac07ba7a480541538a8ca5a37331cba261c57d460611a191fd8fa2499e9d5d98a5429b8825a6fc930d772bf87c23da43b516f2e9d15ea949b378dbe'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('cb5b1993c53aafca481b152d1ab62069131f34374925ce7c74aae710449fe152c58933cfe724925d39fae7d7c57015dc13c9d52495ebe33cfd5b6d9b3f3585431ad820f3fc2492c73f5d3bf8b784c5101bcf49f657320c906491b9f177f092497e9cfc43f56e00b6ca8d5a035e774925625576d39f9cd5fc1d11aa492754e617'), chunkIndex, fsize);
chunkIndex = chunkIndex + chunkSize;
require('Storage').write(fname, hex2str('12743401cd67d2198c14925ae7fd59ebfd9a19b28113cbc955acedd1496637555daa7b6d0824b6e73e90a90ad53ad3b249295a97d5f617653716f93e2b2eb197f9a0929c9d7c4f5309d75e9d14f80a249cc4891052495bf127d6c3ea8980227f890b06b631d98d87a2492cc6abffd9'), chunkIndex, fsize);

console.log('File ' + fname + ' written to storage.');
require('Storage').read(fname).length;

//
// Here you might take a break and check if all writes returned true.
// And then do a hard reset to the device, i.e. reset button, power cycle/
//

